{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst newButtonStart = document.querySelector('[data-start]');\nconst newDaysData = document.querySelector('[data-days]');\nconst newHoursData = document.querySelector('[data-hours]');\nconst newMinutesData = document.querySelector('[data-minutes]');\nconst newSecondsData = document.querySelector('[data-seconds]');\n\nconst newDatetimeInput = document.querySelector('#datetime-picker');\n\nlet newUserSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose([selectedDates]) {\n    if (selectedDates < options.defaultDate) {\n      newButtonStart.disabled = true;\n      iziToast.show({\n        message: 'Please choose a date in the future',\n        backgroundColor: 'rgb(236, 56, 56)',\n        messageColor: '#FFF',\n        position: 'topCenter',\n      });\n    } else {\n      newButtonStart.disabled = false;\n      newUserSelectedDate = selectedDates.getTime();\n    }\n  },\n};\n\nflatpickr(newDatetimeInput, options);\n\nnewButtonStart.addEventListener('click', handlerBtnStart);\n\nfunction handlerBtnStart() {\n  if (newUserSelectedDate > Date.now()) {\n    const timerCalc = () => {\n      outputsUpdate(\n        [newDaysData, newHoursData, newMinutesData, newSecondsData],\n        convertMs(newUserSelectedDate - Date.now())\n      );\n      if (\n        newUserSelectedDate - 1000 < Date.now() &&\n        newSecondsData.textContent === '00'\n      )\n        clearInterval(interval);\n    };\n    timerCalc();\n    const interval = setInterval(timerCalc, 1000);\n    newButtonStart.disabled = true;\n    newDatetimeInput.disabled = true;\n    newButtonStart.dataset.start = 'started';\n  } else {\n    iziToast.show({\n      message: 'Please choose a date in the future',\n      backgroundColor: 'rgb(236, 56, 56)',\n      messageColor: '#FFF',\n      position: 'topCenter',\n    });\n    newButtonStart.disabled = true;\n  }\n}\n\nconst outputUpdate = (output, time) => {\n  output.textContent = time.toString().padStart(2, '0');\n};\nconst outputsUpdate = (\n  [newDaysData, newHoursData, newMinutesData, newSecondsData],\n  { days, hours, minutes, seconds }\n) => {\n  outputUpdate(newDaysData, days);\n  outputUpdate(newHoursData, hours);\n  outputUpdate(newMinutesData, minutes);\n  outputUpdate(newSecondsData, seconds);\n};\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}"],"names":["newButtonStart","newDaysData","newHoursData","newMinutesData","newSecondsData","newDatetimeInput","newUserSelectedDate","options","selectedDates","iziToast","flatpickr","handlerBtnStart","timerCalc","outputsUpdate","convertMs","interval","outputUpdate","output","time","days","hours","minutes","seconds","ms"],"mappings":"2FAMA,MAAMA,EAAiB,SAAS,cAAc,cAAc,EACtDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAExDC,EAAmB,SAAS,cAAc,kBAAkB,EAElE,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQ,CAACC,CAAa,EAAG,CACnBA,EAAgBD,EAAQ,aAC1BP,EAAe,SAAW,GAC1BS,EAAS,KAAK,CACZ,QAAS,qCACT,gBAAiB,mBACjB,aAAc,OACd,SAAU,WAClB,CAAO,IAEDT,EAAe,SAAW,GAC1BM,EAAsBE,EAAc,UAEvC,CACH,EAEAE,EAAUL,EAAkBE,CAAO,EAEnCP,EAAe,iBAAiB,QAASW,CAAe,EAExD,SAASA,GAAkB,CACzB,GAAIL,EAAsB,KAAK,MAAO,CACpC,MAAMM,EAAY,IAAM,CACtBC,EACE,CAACZ,EAAaC,EAAcC,EAAgBC,CAAc,EAC1DU,EAAUR,EAAsB,KAAK,KAAK,CAClD,EAEQA,EAAsB,IAAO,KAAK,IAAK,GACvCF,EAAe,cAAgB,MAE/B,cAAcW,CAAQ,CAC9B,EACIH,IACA,MAAMG,EAAW,YAAYH,EAAW,GAAI,EAC5CZ,EAAe,SAAW,GAC1BK,EAAiB,SAAW,GAC5BL,EAAe,QAAQ,MAAQ,SACnC,MACIS,EAAS,KAAK,CACZ,QAAS,qCACT,gBAAiB,mBACjB,aAAc,OACd,SAAU,WAChB,CAAK,EACDT,EAAe,SAAW,EAE9B,CAEA,MAAMgB,EAAe,CAACC,EAAQC,IAAS,CACrCD,EAAO,YAAcC,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,CACtD,EACML,EAAgB,CACpB,CAACZ,EAAaC,EAAcC,EAAgBC,CAAc,EAC1D,CAAE,KAAAe,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,IAC9B,CACHN,EAAaf,EAAakB,CAAI,EAC9BH,EAAad,EAAckB,CAAK,EAChCJ,EAAab,EAAgBkB,CAAO,EACpCL,EAAaZ,EAAgBkB,CAAO,CACtC,EAEA,SAASR,EAAUS,EAAI,CAQrB,MAAMJ,EAAO,KAAK,MAAMI,EAAK,KAAG,EAE1BH,EAAQ,KAAK,MAAOG,EAAK,MAAO,IAAI,EAEpCF,EAAU,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,EAEjDD,EAAU,KAAK,MAASC,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAJ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,QAAQ,IAAIR,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}